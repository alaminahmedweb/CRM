@model Web.ViewModels.BookingVM
@inject UserManager<ApplicationUser> userManager;

@{
    ViewData["Title"] = "Cancel Booking";
    var userid = "";
    if (User.Identity.IsAuthenticated)
    {
        userid = userManager.GetUserId(User);
    }

}

<form asp-action="CancelBooking">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="ModifiedBy" value="@userid" />
    <input asp-for="@Model.Status" hidden class="col-sm-2 form-control" />
    <input asp-for="@Model.Id" hidden class="col-sm-2 form-control" />
    <input asp-for="@Model.FollowupId" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.TeamId" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.ShiftId" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.EntryDate" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.BookingDate" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.BookingById" class="col-sm-3 form-control" hidden />
    <input asp-for="@Model.BookingNote" class="col-sm-3 form-control" hidden />

    <h3 class="text-danger">Are you sure you want to Cancel this Booking?</h3>
    <input type="submit" value="Cancel Booking" class="btn btn-danger">
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Customer Information</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>
                            <td>
                                Name
                            </td>
                            <td class="text-primary">
                                @Model.Name
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Category
                            </td>
                            <td class="text-primary">
                                @Model.CategoryName
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Reference
                            </td>
                            <td class="text-primary">
                                @Model.ReferenceBy
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Contact
                            </td>
                            <td class="text-primary">
                                @Model.ContactName
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Marketing
                            </td>
                            <td class="text-primary">
                                @Model.EmployeeName
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white pl-5 pr-5">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Contact Information</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr style="font-weight:bold;font-size:12px;">
                            <td>Contract Person</td>
                            <td>Designation</td>
                            <td>Mobile No</td>
                        </tr>
                        @if (Model.ContractDetails != null)
                        {
                            @foreach (var item in Model.ContractDetails)
                            {
                                <tr>
                                    <td>@item.Name</td>
                                    <td>@item.Designation</td>
                                    <td>@item.MobileNo</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Address</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>
                            <td>
                                Location
                            </td>
                            <td class="text-primary">
                                @Model.Address
                            </td>
                        </tr>
                        <tr>
                            <td>
                                City
                            </td>
                            <td class="text-primary">
                                @Model.CityName
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Area
                            </td>
                            <td class="text-primary">
                                @Model.AreaName
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Sub Area
                            </td>
                            <td class="text-primary">
                                @Model.SubAreaName
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Building Details</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>
                            <td>
                                Floor No
                            </td>
                            <td class="text-primary">
                                @Model.NoOfFloor
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Flat No
                            </td>
                            <td class="text-primary">
                                @Model.NoOfFlat
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody id="tblBuldingDetails">
                        <tr style="font-weight:bold;font-size:12px;">
                            <td class="col-7">Brand Name</td>
                            <td class="col-2">Quantity</td>
                            <td class="col-2">Capacity</td>
                        </tr>

                        @if (Model.BuildingDetails != null)
                        {
                            @foreach (var item in Model.BuildingDetails)
                            {
                                <tr>
                                    <td>@item.BrandName</td>
                                    <td>@item.Quantity</td>
                                    <td>@item.Capacity</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Followup Information</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>
                            <td>
                                Calling Date
                            </td>
                            <td class="text-primary">
                                @Model.CallingDate
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Followup Date
                            </td>
                            <td class="text-primary">
                                @Model.FollowupCallDate
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Working Month
                            </td>
                            <td class="text-primary">
                                @Model.CustomerDoTheWorkingMonth
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Discussion Details
                            </td>
                            <td class="text-primary">
                                @Model.DiscussionDetailsNote
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Service Name
                            </td>
                            <td class="text-primary">
                                @Model.ServiceName
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Next Plan
                            </td>
                            <td class="text-primary">
                                @Model.MarketingNextPlan
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Remarks
                            </td>
                            <td class="text-primary">
                                @Model.Remarks
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Offer Amount
                            </td>
                            <td class="text-primary">
                                @Model.OfferAmount
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Booking Amount
                            </td>
                            <td class="text-primary">
                                @Model.AgreeAmount
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-12 bg-white">
            <h5 class="text-center  text-bg-secondary pb-2 pt-1">Booking Information</h5>
            <div class="table-responsive">
                <table class="table table-user-information">
                    <tbody>
                        <tr>
                            <td>
                                Booking/Working Date
                            </td>
                            <td class="text-primary">
                                @Model.BookingDate
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Team
                            </td>
                            <td class="text-primary">
                                @Model.TeamId
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Shift
                            </td>
                            <td class="text-primary">
                                @Model.ShiftId
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Booking By
                            </td>
                            <td class="text-primary">
                                @Model.BookingById
                            </td>
                        </tr>

                        <tr>
                            <td>
                                Booking Note
                            </td>
                            <td class="text-primary">
                                @Model.BookingNote
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</form>

@*
    <div class="row">
    <div class="col-12">
        <div class="box box-success">
            <div class="box-header" style="border-bottom:1px solid black">
                <p>Cancel Booking</p>
            </div>
            <div class="box-body">
                <form asp-action="CancelBooking">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <input asp-for="@Model.FollowupId" class="col-sm-3 form-control" hidden />
                    <input type="hidden" asp-for="ModifiedBy" value="@userid" />
                    <input asp-for="@Model.Status" hidden class="col-sm-2 form-control" />
                    <input asp-for="@Model.Id" hidden class="col-sm-2 form-control" />
                    <h3 class="text-danger">Are you sure you want to Cancel this Booking?</h3>
                    <div class="form-group row">
                        <label asp-for="CallingDate" class="col-2 control-label">Calling Date</label>
                        <div class="col-2">
                            <input asp-for="CallingDate" class="form-control" disabled />
                        </div>
                        <label asp-for="Name" class="col-sm-2 control-label">Client Name/Organization</label>
                        <div class="col-2">
                            <input asp-for="Name" class="form-control" disabled />
                        </div>
                        <label asp-for="EmployeeName" class="control-label col-2">Marketing Officer Name</label>
                        <div class="col-2">
                            <input asp-for="EmployeeName" class="form-control" disabled />
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-2 control-label">Client Name/Organization</label>
                        <div class="col-4">
                            <input asp-for="Name" class="form-control" disabled />
                        </div>
                        <label asp-for="NoOfFloor" class="control-label col-3">Building Details a) No Of Floor</label>
                        <div class="col-1">
                            <input asp-for="NoOfFloor" class="form-control" disabled />
                        </div>
                        <label asp-for="NoOfFlat" class="control-label col-1">No Of Flat</label>
                        <div class="col-1">
                            <input asp-for="NoOfFlat" class="form-control" disabled />
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-6">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Contract Person</th>
                                        <th>Designation</th>
                                        <th>Mobile No</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.ContractDetails)
                                    {
                                        <tr>
                                            <td>@item.Name</td>
                                            <td>@item.Designation</td>
                                            <td>@item.MobileNo</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="col-6">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th class="col-7">Brand Name</th>
                                        <th class="col-2">Quantity</th>
                                        <th class="col-2">Capacity</th>
                                    </tr>
                                </thead>
                                <tbody id="tblBuldingDetails">
                                    @foreach (var item in Model.BuildingDetails)
                                    {
                                        <tr>
                                            <td>@item.BrandName</td>
                                            <td>@item.Quantity</td>
                                            <td>@item.Capacity</td>
                                        </tr>
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label asp-for="Address" class="control-label col-2">Location/Address</label>
                        <div class="col-2">
                            <input asp-for="Address" class="form-control" disabled />
                        </div>
                        <label asp-for="CityName" class="control-label col-1">City</label>
                        <div class="col-1">
                            <input asp-for="CityName" class="form-control" disabled />
                        </div>
                        <label asp-for="AreaName" class="control-label col-1">Area</label>
                        <div class="col-2">
                            <input asp-for="AreaName" class="form-control" disabled />
                        </div>
                        <label asp-for="SubAreaName" class="control-label col-1">Sub Area</label>
                        <div class="col-2">
                            <input asp-for="SubAreaName" class="form-control" disabled />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label asp-for="CustomerDoTheWorkingMonth" class="control-label col-2">Working Month</label>
                        <div class="col-2">
                            <input asp-for="CustomerDoTheWorkingMonth" class="form-control" disabled />
                        </div>
                        <label asp-for="FollowupCallDate" class="control-label col-1">Followup Date</label>
                        <div class="col-2">
                            <input asp-for="FollowupCallDate" class="form-control" disabled />
                        </div>
                        <label asp-for="EmployeeName" class="control-label col-2">Marketing Officer Name</label>
                        <div class="col-3">
                            <input asp-for="EmployeeName" class="form-control" disabled />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label asp-for="DiscussionDetailsNote" class="control-label col-2">Discussion Details</label>
                        <div class="col-2">
                            <textarea asp-for="DiscussionDetailsNote" class="form-control" disabled></textarea>
                        </div>
                        <label asp-for="MarketingNextPlan" class="control-label col-1">Next Plan</label>
                        <div class="col-2">
                            <input asp-for="MarketingNextPlan" class="form-control" disabled />
                        </div>
                        <label asp-for="Remarks" class="control-label col-1">Remarks</label>
                        <div class="col-4">
                            <input asp-for="Remarks" class="form-control" disabled />
                        </div>
                    </div>

                    <div class="form-group row mt-1">
                        <label asp-for="ServiceName" class="col-sm-2 control-label">Service Name</label>
                        <div class="col-2">
                            <input asp-for="ServiceName" class="form-control" disabled />
                        </div>
                        <label asp-for="OfferAmount" class="control-label col-1">Offer Amount</label>
                        <div class="col-1">
                            <input asp-for="OfferAmount" class="form-control" disabled />
                        </div>
                        <label asp-for="AgreeAmount" class="control-label col-2">Booking Amount</label>
                        <div class="col-1">
                            <input asp-for="AgreeAmount" class="form-control" disabled />
                        </div>
                        <label asp-for="@Model.EntryDate" class="col-sm-1 control-label">Entry Date</label>
                        <div class="col-2">
                            <input asp-for="@Model.EntryDate" class="form-control" />
                        </div>
                    </div>
                    <hr />
                    <div class="form-group row">
                        <label asp-for="@Model.BookingDate" class="col-sm-2 control-label">Shifted Booking Date</label>
                        <div class="col-2">
                            <input asp-for="@Model.BookingDate" class="form-control" />
                            <span asp-validation-for="@Model.BookingDate" class="text-danger"></span>
                        </div>
                        <label asp-for="@Model.TeamId" class="control-label col-sm-1 ">Team</label>
                        <div class="col-2">
                            <select asp-for="@Model.TeamId" class="form-control">
                                <option value="-1">Select Team</option>
                                @foreach (var item in @ViewBag.TeamInfo)
                                {
                                    <option value="@item.Id">@item.Name</option>
                                }
                            </select>
                            <span asp-validation-for="TeamId" class="text-danger"></span>
                        </div>
                        <label asp-for="@Model.ShiftId" class="control-label col-sm-1 ">Shift</label>
                        <div class="col-1">
                            <select asp-for="@Model.ShiftId" class="form-control">
                                <option value="-1">Select Shift</option>
                                <option value="1">Morning</option>
                                <option value="2">Evening</option>
                            </select>
                            <span asp-validation-for="ShiftId" class="text-danger"></span>
                        </div>
                        <label asp-for="BookingById" class="control-label col-sm-1">Booking By</label>
                        <div class="col-2">
                            <select asp-for="BookingById" class="form-control">
                                <option value="-1">Select Mpo</option>
                                @foreach (var data in ViewBag.EmployeeList)
                                {
                                    <option value="@data.Id">@data.Name</option>
                                }
                            </select>
                            <span asp-validation-for="BookingById" class="text-danger"></span>
                        </div>
                    </div>
                    <br />
                    <div class="form-group text-center">
                        <input type="submit" value="Cancel Booking" class="btn btn-danger">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
*@
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
